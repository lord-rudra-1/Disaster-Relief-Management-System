<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disaster Relief Management System</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="/home" class="navbar-brand">DRMS</a>
            <ul class="navbar-nav">
                <li><a href="/home" class="nav-link">Home</a></li>
                <li><a href="/donation" class="nav-link">Give Donation</a></li>
                <li><a href="/volunteer" class="nav-link">Volunteers</a></li>
                <!-- <li><a href="/add_resource" class="nav-link">Resources</a></li> -->
                <li><a href="/affected-area" class="nav-link">Affected Areas</a></li>
                <li><a href="/admin/dashboard" class="nav-link">Admin Dashboard</a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <h1 class="page-title">Welcome to Disaster Relief Management System</h1>

        <div class="container">
            <div class="grid-layout">
                <a href="/volunteer" class="card">
                    <h2>Volunteers</h2>
                    <p>Manage and coordinate volunteer activities</p>
                </a>
                <a href="/donor" class="card">
                    <h2>New Donor</h2>
                    <p>Register new donors </p>
                </a>
                <a href="/donation" class="card">
                    <h2>Donation</h2>
                    <p>give donation</p>
                </a>
                <a href="/affected-area" class="card">
                    <h2>Affected Areas</h2>
                    <p>View and manage affected areas</p>
                </a>
                <% if(locals.flag) { %>
                <a href="/admin/dashboard" class="card"" >
                    <h2>Admin Dashboard</h2>
                    <p>Management and Analytics of resources and volunteers </p>
                </a>
                <% } %>
            </div>
        </div>

        <% if (showTables) { %>
        <div class="tables-container">
            <div class="table-section">
                <h2>Affected Areas</h2>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Location</th>
                                <th>Disaster Type</th>
                                <th>Severity</th>
                                <th>Population</th>
                                <th>Casualties</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% data.affectedAreas.forEach(area => { %>
                            <tr>
                                <td><%= area.location %></td>
                                <td><%= area.disaster_type %></td>
                                <td><%= area.severity %></td>
                                <td><%= area.population %></td>
                                <td><%= area.casualties %></td>
                            </tr>
                            <% }) %>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="table-section">
                <h2>Volunteers</h2>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Contact</th>
                                <th>Skills</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% data.volunteers.forEach(volunteer => { %>
                            <tr>
                                <td><%= volunteer.name %></td>
                                <td><%= volunteer.contact %></td>
                                <td><%= volunteer.skills %></td>
                            </tr>
                            <% }) %>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="table-section">
                <h2>Donors</h2>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Contact</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% data.donors.forEach(donor => { %>
                            <tr>
                                <td><%= donor.donor_name %></td>
                                <td><%= donor.contact %></td>
                            </tr>
                            <% }) %>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="table-section">
                <h2>Donations</h2>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Donor</th>
                                <th>Donation Type</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% data.donations.forEach(donation => { %>
                            <tr>
                                <td><%= donation.donor_id %></td>
                                <td><%= donation.donation_type %></td>
                                <td><%= donation.amount ? donation.amount : 'N/A' %></td>
                            </tr>
                            <% }) %>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="table-section">
                <h2>Resources</h2>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Category</th>
                                <th>Quantity</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% data.resources.forEach(resource => { %>
                            <tr>
                                <td><%= resource.category_id %></td>
                                <td><%= resource.quantity %></td>
                            </tr>
                            <% }) %>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="table-section">
                <h2>Volunteer Assignments</h2>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>Volunteer</th>
                                <th>Task</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% data.assignments.forEach(assignment => { %>
                            <tr>
                                <td><%= assignment.volunteer_id %></td>
                                <td><%= assignment.task %></td>
                                <td><%= assignment.status %></td>
                            </tr>
                            <% }) %>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <% } %>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <h3 class="footer-title">About Us</h3>
                <p>Disaster Relief Management System helps coordinate and manage resources during disasters.</p>
            </div>
            <div class="footer-section">
                <h3 class="footer-title">Quick Links</h3>
                <ul class="footer-links">
                    <li><a href="/Home" class="footer-link">Home</a></li>
                    <li><a href="/donation" class="footer-link">Donations</a></li>
                    <li><a href="/volunteer" class="footer-link">Volunteers</a></li>
                    <li><a href="/admin/dashboard" class="footer-link">Admin Dashboard</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3 class="footer-title">Contact</h3>
                <ul class="footer-links">
                    <li>Email: support@drms.com</li>
                    <li>Phone: 77777-77777</li>
                    <li>Address: IIIT Vadodara-ICD, Kevdi, Diu </li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Disaster Relief Management System. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const AdminDashboard = document.getElementById('displayTables');
            if (AdminDashboard) {
                AdminDashboard.addEventListener('click', () => {
                    window.location.href = '/admin/dashboard';
                });
            }
        });
    </script>
</body>
</html>
